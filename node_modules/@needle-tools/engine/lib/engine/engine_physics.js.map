{"version":3,"file":"engine_physics.js","sourceRoot":"","sources":["../../src/engine/engine_physics.ts"],"names":[],"mappings":"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"}